---
import SimpleMardownRender from "@components/SimpleMardownRender.astro";
import MDXImage from "@components/mdx/MDXImage.astro";

type PropsA = {
  name: string;
  published: boolean;
  description: string;
  image: {
    src: string;
    alt: string;
  } | null;
  url?: string;
  idx: number;
};
const { name, published, description, image, url, idx } = Astro.props;
const { src, alt } = image || {};
---

{
  published && (
    <article
      class:list={[
        "group flex w-full gap-[2.53rem] py-[2.26rem] transition-all",
        {
          "flex-row": idx % 2 === 0,
        },
        {
          "flex-row-reverse": idx % 2 === 1,
        },
      ]}
    >
      <div class="flex-none">
        {image ? (
          <MDXImage
            src={src}
            alt={alt}
            width={272}
            class="h-auto w-[14.34026rem]"
          />
        ) : (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="272"
            height="302"
            viewBox="0 0 272 302"
          >
            <rect width="100%" height="100%" fill="#DDDDDD" />
            <path
              fill="#999999"
              d="M65.295 159.875h6.68q.72 0 1.14.4.43.41.43 1.08v2.66h-17.86v-1.48q0-.45.19-.94.19-.5.6-.89l7.9-7.92q.99-1.01 1.78-1.93.78-.92 1.3-1.82t.8-1.82q.28-.93.28-1.96 0-.93-.27-1.64-.27-.71-.76-1.2-.5-.49-1.19-.73t-1.56-.24q-.79 0-1.47.22-.67.23-1.19.63-.52.41-.88.95t-.54 1.19q-.31.82-.8 1.09-.48.27-1.4.13l-2.34-.41q.27-1.88 1.04-3.29.78-1.41 1.94-2.36 1.16-.94 2.66-1.42 1.51-.48 3.23-.48 1.8 0 3.3.53 1.49.54 2.55 1.51 1.07.97 1.66 2.34.59 1.37.59 3.04 0 1.44-.42 2.66-.42 1.23-1.13 2.34-.71 1.12-1.67 2.16-.95 1.05-2 2.13l-5.86 5.99q.84-.25 1.68-.39.84-.13 1.59-.13Zm11.58-21.89h17.98v1.93q0 .86-.18 1.39-.18.53-.36.89l-9.87 20.31q-.3.63-.86 1.07-.56.44-1.49.44h-3.23l10.07-19.89q.34-.61.67-1.13.33-.51.75-.98h-12.46q-.41 0-.72-.3-.3-.31-.3-.72v-3.01Zm30.18 21.89h6.68q.72 0 1.14.4.43.41.43 1.08v2.66h-17.86v-1.48q0-.45.19-.94.19-.5.6-.89l7.9-7.92q.99-1.01 1.78-1.93.78-.92 1.3-1.82t.8-1.82q.28-.93.28-1.96 0-.93-.27-1.64-.27-.71-.76-1.2-.5-.49-1.19-.73t-1.56-.24q-.79 0-1.46.22-.68.23-1.2.63-.52.41-.88.95t-.54 1.19q-.31.82-.8 1.09-.48.27-1.4.13l-2.34-.41q.27-1.88 1.04-3.29.78-1.41 1.94-2.36 1.16-.94 2.66-1.42 1.51-.48 3.23-.48 1.8 0 3.3.53 1.49.54 2.55 1.51 1.07.97 1.66 2.34.59 1.37.59 3.04 0 1.44-.42 2.66-.42 1.23-1.13 2.34-.71 1.12-1.67 2.16-.95 1.05-2 2.13l-5.86 5.99q.84-.25 1.68-.39.84-.13 1.59-.13Zm37.59-1.82-2.36 2.32-6.1-6.1-6.16 6.14-2.36-2.32 6.16-6.18-5.87-5.86 2.34-2.34 5.87 5.86 5.83-5.83 2.38 2.34-5.85 5.85 6.12 6.12Zm14.97-12.4-2.34-.41q.27-1.88 1.05-3.29.77-1.41 1.93-2.36 1.16-.94 2.67-1.42 1.5-.48 3.23-.48 1.8 0 3.25.52 1.44.51 2.47 1.42 1.03.91 1.58 2.13.54 1.23.54 2.65 0 1.24-.27 2.18-.28.95-.81 1.65-.52.7-1.29 1.19-.78.49-1.75.81 2.34.74 3.49 2.25 1.16 1.51 1.16 3.8 0 1.94-.72 3.44-.72 1.49-1.95 2.51-1.22 1.01-2.83 1.54-1.61.52-3.41.52-1.97 0-3.42-.45-1.46-.45-2.54-1.33-1.08-.89-1.84-2.16-.75-1.28-1.29-2.96l1.96-.81q.77-.32 1.45-.17.67.16.98.73.32.63.71 1.24.39.62.93 1.09.54.48 1.27.78.72.29 1.73.29 1.14 0 1.98-.37.85-.36 1.42-.96.56-.59.84-1.32.28-.73.28-1.47 0-.93-.2-1.7-.2-.76-.83-1.3-.63-.54-1.8-.85-1.18-.31-3.16-.31v-3.16q1.63-.02 2.71-.31t1.72-.8q.64-.51.89-1.23.26-.72.26-1.59 0-1.83-1.03-2.79-1.03-.95-2.74-.95-.79 0-1.45.22-.67.23-1.2.63-.53.41-.89.95t-.54 1.19q-.31.82-.8 1.09-.5.27-1.4.13Zm36.58 5.35q0 3.4-.73 5.91-.73 2.51-2.02 4.15-1.28 1.64-3.04 2.44-1.75.8-3.79.8-2.03 0-3.77-.8-1.74-.8-3.01-2.44-1.28-1.64-2-4.15-.72-2.51-.72-5.91 0-3.42.72-5.93.72-2.5 2-4.14 1.27-1.63 3.01-2.44 1.74-.8 3.77-.8 2.04 0 3.79.8 1.76.81 3.04 2.44 1.29 1.64 2.02 4.14.73 2.51.73 5.93Zm-4.59 0q0-2.83-.42-4.68-.41-1.86-1.1-2.96-.7-1.09-1.6-1.54-.9-.44-1.87-.44-.95 0-1.84.44-.89.45-1.58 1.54-.68 1.1-1.09 2.96-.4 1.85-.4 4.68 0 2.82.4 4.68.41 1.85 1.09 2.95.69 1.1 1.58 1.54.89.44 1.84.44.97 0 1.87-.44.9-.44 1.6-1.54.69-1.1 1.1-2.95.42-1.86.42-4.68Zm16.47 8.87h6.68q.72 0 1.14.4.42.41.42 1.08v2.66h-17.85v-1.48q0-.45.19-.94.18-.5.6-.89l7.9-7.92q.99-1.01 1.77-1.93.79-.92 1.31-1.82t.8-1.82q.28-.93.28-1.96 0-.93-.27-1.64-.27-.71-.77-1.2-.49-.49-1.18-.73-.7-.24-1.56-.24-.79 0-1.47.22-.67.23-1.2.63-.52.41-.88.95t-.54 1.19q-.3.82-.79 1.09-.49.27-1.4.13l-2.34-.41q.27-1.88 1.04-3.29.77-1.41 1.94-2.36 1.16-.94 2.66-1.42 1.5-.48 3.23-.48 1.8 0 3.29.53 1.5.54 2.56 1.51t1.66 2.34q.59 1.37.59 3.04 0 1.44-.42 2.66-.43 1.23-1.14 2.34-.71 1.12-1.66 2.16-.96 1.05-2 2.13l-5.87 5.99q.85-.25 1.69-.39.83-.13 1.59-.13Z"
            />
          </svg>
        )}
      </div>
      <div class="flex flex-col gap-2">
        <h2 class="text-[1.47368rem]">
          {url ? (
            <a
              href={url}
              target="_blank"
              class="underline hover:bg-primary hover:no-underline"
              rel="noreferrer"
            >
              {name}
            </a>
          ) : (
            name
          )}
        </h2>
        <SimpleMardownRender markdown={description} />
      </div>
    </article>
  )
}
